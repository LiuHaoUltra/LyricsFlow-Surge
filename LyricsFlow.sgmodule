#!name=ğŸµ LyricsFlow (Surge)
#!desc=Intercepts Spotify lyrics requests and injects enhanced lyrics from a custom TypeF backend.
#!category=Music
#!system=ios

[Script]
# Request Script: æ‹¦æˆªå¹¶ç¼“å­˜å…ƒæ•°æ®
LyricsFlow_Req = type=http-request, pattern=^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/\w+, requires-body=1, script-path=https://raw.githubusercontent.com/LiuHaoUltra/LyricsFlow-Surge/main/dist/request.js, argument=TYPEF_URL=http://127.0.0.1:8000&ENABLE_ENRICH=true&LogLevel=INFO

# Response Script: æ³¨å…¥æ­Œè¯ (Protobuf)
# binary-body-mode=1 å¿…é¡»å¼€å¯
LyricsFlow_Res = type=http-response, pattern=^https?:\/\/spclient\.wg\.spotify\.com\/color-lyrics\/v2\/track\/\w+, requires-body=1, binary-body-mode=1, script-path=https://raw.githubusercontent.com/LiuHaoUltra/LyricsFlow-Surge/main/dist/response.js, argument=TYPEF_URL=http://127.0.0.1:8000&ENABLE_ENRICH=true&LogLevel=INFO

[MITM]
hostname = %APPEND% spclient.wg.spotify.com, episode-transcripts.spotifycdn.com
