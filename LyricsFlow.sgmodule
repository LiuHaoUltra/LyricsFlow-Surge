#!name=ğŸµ LyricsFlow (Surge)
#!desc=Spotify æ­Œè¯å¢å¼ºæ¨¡å—
#!category=Music
#!system=ios
#!arguments=TYPEF_URL:http://127.0.0.1:8000,ENABLE_ENRICH:false,ENRICH_URL:,ENRICH_KEY:,LogLevel:INFO
#!arguments-desc=TYPEF_URL: TypeF åç«¯åœ°å€\nENABLE_ENRICH: AI ç¿»è¯‘å¢å¼º\nENRICH_URL: AI API åœ°å€\nENRICH_KEY: AI API Key\nLogLevel: æ—¥å¿—ç­‰çº§

[Script]
# Request Script - æ‹¦æˆªæ­Œè¯è¯·æ±‚å¹¶ç¼“å­˜å…ƒæ•°æ®
LyricsFlow_Req = type=http-request, pattern=^https?:\/\/(gae\d-spclient|spclient\.wg)\.spotify\.com(:443)?\/color-lyrics\/v2\/track\/\w+\?(.*), requires-body=1, binary-body-mode=1, script-path=https://raw.githubusercontent.com/LiuHaoUltra/LyricsFlow-Surge/main/dist/request.js, argument=TYPEF_URL={TYPEF_URL}&ENABLE_ENRICH={ENABLE_ENRICH}&ENRICH_URL={ENRICH_URL}&ENRICH_KEY={ENRICH_KEY}&LogLevel={LogLevel}

# Response Script - æ›¿æ¢æ­Œè¯å“åº”
LyricsFlow_Res = type=http-response, pattern=^https?:\/\/(gae\d-spclient|spclient\.wg)\.spotify\.com(:443)?\/color-lyrics\/v2\/track\/\w+\?(.*), requires-body=1, binary-body-mode=1, script-path=https://raw.githubusercontent.com/LiuHaoUltra/LyricsFlow-Surge/main/dist/response.js, argument=TYPEF_URL={TYPEF_URL}&ENABLE_ENRICH={ENABLE_ENRICH}&ENRICH_URL={ENRICH_URL}&ENRICH_KEY={ENRICH_KEY}&LogLevel={LogLevel}

[MITM]
hostname = %APPEND% spclient.wg.spotify.com, gae?-spclient.spotify.com, episode-transcripts.spotifycdn.com
